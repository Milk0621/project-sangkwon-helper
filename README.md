# Sangkwon Helper Project

## 📌 프로젝트 개요
- **목적**: 소상공인 창업자를 위해 **유동인구·경쟁점포·매출 등 공공데이터 기반 상권 분석**을 제공하고, 지도/차트로 직관적으로 보여주는 웹 서비스
- **특징**
    - **MVP 단계**에서: 회원/로그인, **행정동(EMD) 단위 지도 시각화** 완료
    - 단계적 확장: 분석 요청 폼 → 공공데이터 연동 → Python 분석 서버 → AI 예측/리포트/PDF/배포 자동화
    - **React ↔ Spring Boot** 이원화 구조, 추후 **Python 분석 서버** 연동 계획

---

## ⚙️ 주요 기능 (현재 구현 ✅ / 진행 중 🔧 / 계획 📌)

### 1. **인증/사용자 관리**
- ✅ **회원가입/로그인 (JWT)**
    - Spring Security + JWT 토큰 발급/검증
- 📌 마이페이지 최소 기능(닉네임/이메일 수정) 연결 예정

### 2. **분석 요청 & 결과**
- 📌 **분석 요청 폼** (업종/지역/옵션)
    - UI 와이어프레임 정의 완료, API 설계 예정
- 📌 **결과 대시보드**
    - 차트(연령/성별/시간대 등 확장 예정)

### 3. **지도/차트 시각화**
- ✅ **행정동(EMD)별 데이터 지도 표시**
    - 중심좌표/카운트 기반 점/클러스터 렌더링
    - 기본 UX 설계
- ✅ **해당 행정동의 데이터 시각화**
    - 행정동의 업종 백분률 및 업종별 상가 수 차트화

### 4. **데이터 수집/저장**
- 📌 **공공데이터 API 연동** (유동인구/상권/매출)
    - 대상 API 목록화 및 스키마 설계 중
- 📌 **분석 기록 저장** (요청/결과 이력화)

### 5. **AI 분석/리포트**
- 📌 Python 분석 서버(Flask) 연동
    - Pandas 전처리 및 적절한 모델 선정 예정
- 📌 **PDF 리포트 생성/다운로드**
    - 유료(프리미엄) 기능 후보

### 6. **배포/운영**
- 📌 Docker 컨테이너화 (FE/BE/DB/AI 통합)
- 📌 Vercel(FE) + Cloudtype(BE) CI/CD 자동화

---

## 🛠 기술 스택
- **프론트엔드**: React, TypeScript, Redux Toolkit, Axios, Chart.js, Kakao Map API
- **백엔드**: Spring Boot, Spring Security (JWT),  MyBatis(기본) / JPA(추가 예정), MySQL
- **AI/분석**: Python, Pandas, Flask 등
- **배포/인프라**: Vercel(프론트), Cloudtype(백엔드), Docker

---

## ✨ 현재까지의 성과
- **JWT 인증/보안 기초 구축**으로 사용자 단위 분석 이력화 준비 완료
- **행정동 레벨 지도 시각화**로 공간적 맥락을 제공 (센터 좌표/카운트 렌더링)
- **ERD 초안/도메인 정리**(EMD 코드 통일)로 이후 공공데이터 조인 기반 마련

---

## 🚧 어려움 & 해결 (Troubleshooting Log)
1. **행정동 코드 길이 불일치(10 vs 8자리)**
    - 증상: 조인/FK 불일치로 조회 실패
    - 조치: **adongCd 8자리 표준화**, 테이블 전반 스키마 정리, FK 재설정
2. **JWT 인증 후 특정 API 접근 시 403 Forbidden**
    - **증상**: 토큰은 발급되었으나, `/api/areas/**`, `/api/category/**` 같은 API 호출 시 403 Forbidden 발생
    - **원인**: Spring Security 설정에서 해당 엔드포인트가 `.authenticated()` 또는 `permitAll()`로 지정되지 않아, 인증/인가가 충돌함
    - **조치**: `SecurityConfig`에서 필요한 API 경로를 `.authenticated()` 또는 `.permitAll()`로 명시적으로 추가
